{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { UserFormComponent } from './user-form.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../core/services/user.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@ngx-translate/core\";\nfunction UserAddComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r0.toastMessage);\n  }\n}\nexport class UserAddComponent {\n  constructor(userService, router) {\n    this.userService = userService;\n    this.router = router;\n    this.toastMessage = null;\n    this.availableRoles$ = this.userService.getAvailableRoles();\n  }\n  onSubmit(formValue) {\n    this.userService.createUser(formValue).subscribe({\n      next: () => {\n        this.showToast('User added successfully!');\n        setTimeout(() => this.router.navigate(['../']), 1200);\n      },\n      error: () => {\n        this.showToast('Failed to add user.', true);\n      }\n    });\n  }\n  onCancel() {\n    this.router.navigate(['../']);\n  }\n  showToast(message, error = false) {\n    this.toastMessage = message;\n    if (error) {\n      this.toastMessage += '';\n    }\n    clearTimeout(this.toastTimeout);\n    this.toastTimeout = setTimeout(() => {\n      this.toastMessage = null;\n    }, 2000);\n  }\n  static {\n    this.ɵfac = function UserAddComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || UserAddComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: UserAddComponent,\n      selectors: [[\"app-user-add\"]],\n      decls: 9,\n      vars: 6,\n      consts: [[1, \"card\", \"mb-4\"], [1, \"card-header\"], [1, \"mb-0\"], [1, \"fas\", \"fa-user-plus\", \"me-2\"], [1, \"card-body\"], [3, \"submitUser\", \"cancel\", \"mode\", \"availableRoles$\"], [\"class\", \"toast-message fade-in mt-3\", 4, \"ngIf\"], [1, \"toast-message\", \"fade-in\", \"mt-3\"]],\n      template: function UserAddComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h5\", 2);\n          i0.ɵɵelement(3, \"i\", 3);\n          i0.ɵɵtext(4);\n          i0.ɵɵpipe(5, \"translate\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(6, \"div\", 4)(7, \"app-user-form\", 5);\n          i0.ɵɵlistener(\"submitUser\", function UserAddComponent_Template_app_user_form_submitUser_7_listener($event) {\n            return ctx.onSubmit($event);\n          })(\"cancel\", function UserAddComponent_Template_app_user_form_cancel_7_listener() {\n            return ctx.onCancel();\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(8, UserAddComponent_div_8_Template, 2, 1, \"div\", 6);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(4);\n          i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(5, 4, \"USERS.ADD_USER\"), \"\");\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"mode\", \"add\")(\"availableRoles$\", ctx.availableRoles$);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.toastMessage);\n        }\n      },\n      dependencies: [CommonModule, i3.NgIf, UserFormComponent, TranslateModule, i4.TranslatePipe],\n      styles: [\".toast-message[_ngcontent-%COMP%] {\\n  background: var(--color-accent);\\n  color: var(--color-text-light);\\n  padding: 0.75rem 1.5rem;\\n  border-radius: 0.5rem;\\n  box-shadow: var(--color-shadow);\\n  font-weight: 500;\\n  position: relative;\\n  z-index: 10;\\n  min-width: 200px;\\n  text-align: center;\\n  animation: _ngcontent-%COMP%_fadeIn 0.4s;\\n}\\n\\n.toast-message.error[_ngcontent-%COMP%] {\\n  background: #dc2626;\\n}\\n\\n.fade-in[_ngcontent-%COMP%] {\\n  animation: _ngcontent-%COMP%_fadeIn 0.4s;\\n}\\n\\n@keyframes _ngcontent-%COMP%_fadeIn {\\n  from {\\n    opacity: 0;\\n  }\\n  to {\\n    opacity: 1;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmVhdHVyZXMvdXNlcnMvdXNlci1hZGQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSwrQkFBQTtFQUNBLDhCQUFBO0VBQ0EsdUJBQUE7RUFDQSxxQkFBQTtFQUNBLCtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0VBQ0Esc0JBQUE7QUFDRjs7QUFDQTtFQUNFLG1CQUFBO0FBRUY7O0FBQUE7RUFDRSxzQkFBQTtBQUdGOztBQURBO0VBQ0U7SUFBTyxVQUFBO0VBS1A7RUFKQTtJQUFLLFVBQUE7RUFPTDtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLnRvYXN0LW1lc3NhZ2Uge1xyXG4gIGJhY2tncm91bmQ6IHZhcigtLWNvbG9yLWFjY2VudCk7XHJcbiAgY29sb3I6IHZhcigtLWNvbG9yLXRleHQtbGlnaHQpO1xyXG4gIHBhZGRpbmc6IDAuNzVyZW0gMS41cmVtO1xyXG4gIGJvcmRlci1yYWRpdXM6IDAuNXJlbTtcclxuICBib3gtc2hhZG93OiB2YXIoLS1jb2xvci1zaGFkb3cpO1xyXG4gIGZvbnQtd2VpZ2h0OiA1MDA7XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gIHotaW5kZXg6IDEwO1xyXG4gIG1pbi13aWR0aDogMjAwcHg7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIGFuaW1hdGlvbjogZmFkZUluIDAuNHM7XHJcbn1cclxuLnRvYXN0LW1lc3NhZ2UuZXJyb3Ige1xyXG4gIGJhY2tncm91bmQ6ICNkYzI2MjY7XHJcbn1cclxuLmZhZGUtaW4ge1xyXG4gIGFuaW1hdGlvbjogZmFkZUluIDAuNHM7XHJcbn1cclxuQGtleWZyYW1lcyBmYWRlSW4ge1xyXG4gIGZyb20geyBvcGFjaXR5OiAwOyB9XHJcbiAgdG8geyBvcGFjaXR5OiAxOyB9XHJcbn0gIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["CommonModule","TranslateModule","UserFormComponent","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r0","toastMessage","UserAddComponent","constructor","userService","router","availableRoles$","getAvailableRoles","onSubmit","formValue","createUser","subscribe","next","showToast","setTimeout","navigate","error","onCancel","message","clearTimeout","toastTimeout","ɵɵdirectiveInject","i1","UserService","i2","Router","selectors","decls","vars","consts","template","UserAddComponent_Template","rf","ctx","ɵɵelement","ɵɵlistener","UserAddComponent_Template_app_user_form_submitUser_7_listener","$event","UserAddComponent_Template_app_user_form_cancel_7_listener","ɵɵtemplate","UserAddComponent_div_8_Template","ɵɵtextInterpolate1","ɵɵpipeBind1","ɵɵproperty","i3","NgIf","i4","TranslatePipe","styles"],"sources":["C:\\Users\\ibrahim\\Desktop\\projectPort-new\\src\\app\\features\\users\\user-add.component.ts","C:\\Users\\ibrahim\\Desktop\\projectPort-new\\src\\app\\features\\users\\user-add.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { UserService } from '../../core/services/user.service';\nimport { Observable } from 'rxjs';\nimport { CommonModule } from '@angular/common';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { UserFormComponent } from './user-form.component';\n\n@Component({\n  selector: 'app-user-add',\n  standalone: true,\n  imports: [CommonModule, UserFormComponent, TranslateModule],\n  templateUrl: './user-add.component.html',\n  styleUrls: ['./user-add.component.scss']\n})\nexport class UserAddComponent {\n  availableRoles$: Observable<string[]>;\n  toastMessage: string | null = null;\n  toastTimeout: any;\n  constructor(private userService: UserService, private router: Router) {\n    this.availableRoles$ = this.userService.getAvailableRoles();\n  }\n\n  onSubmit(formValue: any) {\n    this.userService.createUser(formValue).subscribe({\n      next: () => {\n        this.showToast('User added successfully!');\n        setTimeout(() => this.router.navigate(['../']), 1200);\n      },\n      error: () => {\n        this.showToast('Failed to add user.', true);\n      }\n    });\n  }\n\n  onCancel() {\n    this.router.navigate(['../']);\n  }\n\n  showToast(message: string, error = false) {\n    this.toastMessage = message;\n    if (error) {\n      this.toastMessage += '';\n    }\n    clearTimeout(this.toastTimeout);\n    this.toastTimeout = setTimeout(() => {\n      this.toastMessage = null;\n    }, 2000);\n  }\n} ","<div class=\"card mb-4\">\n  <div class=\"card-header\">\n    <h5 class=\"mb-0\"><i class=\"fas fa-user-plus me-2\"></i> {{ 'USERS.ADD_USER' | translate }}</h5>\n  </div>\n  <div class=\"card-body\">\n    <app-user-form\n      [mode]=\"'add'\"\n      [availableRoles$]=\"availableRoles$\"\n      (submitUser)=\"onSubmit($event)\"\n      (cancel)=\"onCancel()\"\n    ></app-user-form>\n    <div *ngIf=\"toastMessage\" class=\"toast-message fade-in mt-3\">{{ toastMessage }}</div>\n  </div>\n</div> "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}