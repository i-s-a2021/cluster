{"ast":null,"code":"export {};","map":{"version":3,"names":[],"sources":["C:\\Users\\ibrahim\\Desktop\\projectPort-new\\src\\app\\features\\news\\news-form\\news-form.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule, ActivatedRoute, Router } from '@angular/router';\nimport { ReactiveFormsModule, FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Observable, switchMap } from 'rxjs';\n\nimport { NewsService } from '../../../core/services/news.service';\nimport { News } from '../../../core/models/news.model';\nimport { LoadingComponent } from '../../../shared/components/loading/loading.component';\n\n@Component({\n  selector: 'app-news-form',\n  standalone: true,\n  imports: [CommonModule, RouterModule, ReactiveFormsModule, LoadingComponent],\n  template: `\n    <div class=\"container-fluid px-4 py-4 fade-in\">\n      <div *ngIf=\"isLoading$ | async\">\n        <app-loading [height]=\"400\" message=\"Loading...\"></app-loading>\n      </div>\n\n      <div *ngIf=\"!(isLoading$ | async)\">\n        <!-- Breadcrumb -->\n        <nav aria-label=\"breadcrumb\" class=\"mb-4\">\n          <ol class=\"breadcrumb\">\n            <li class=\"breadcrumb-item\">\n              <a routerLink=\"/\">Dashboard</a>\n            </li>\n            <li class=\"breadcrumb-item\">\n              <a routerLink=\"/news\">News</a>\n            </li>\n            <li class=\"breadcrumb-item active\">\n              {{ isEditMode ? 'Edit News' : 'Add News' }}\n            </li>\n          </ol>\n        </nav>\n\n        <!-- Form Header -->\n        <div class=\"row mb-4\">\n          <div class=\"col-12\">\n            <h1 class=\"h3 mb-0\">\n              <i class=\"fas\" [class.fa-edit]=\"isEditMode\" [class.fa-plus]=\"!isEditMode\" [class.me-2]=\"true\"></i>\n              {{ isEditMode ? 'Edit News Article' : 'Add New Article' }}\n            </h1>\n          </div>\n        </div>\n\n        <!-- Form -->\n        <form [formGroup]=\"newsForm\" (ngSubmit)=\"onSubmit()\">\n          <div class=\"row\">\n            <div class=\"col-lg-8\">\n              <div class=\"card\">\n                <div class=\"card-header\">\n                  <h5 class=\"mb-0\">Article Details</h5>\n                </div>\n                <div class=\"card-body\">\n                  <!-- Title -->\n                  <div class=\"mb-3\">\n                    <label for=\"title\" class=\"form-label\">Title *</label>\n                    <input \n                      type=\"text\" \n                      class=\"form-control\" \n                      id=\"title\"\n                      formControlName=\"title\"\n                      [class.is-invalid]=\"newsForm.get('title')?.invalid && newsForm.get('title')?.touched\"\n                      placeholder=\"Enter article title\">\n                    <div class=\"invalid-feedback\" *ngIf=\"newsForm.get('title')?.invalid && newsForm.get('title')?.touched\">\n                      Title is required\n                    </div>\n                  </div>\n\n                  <!-- Summary -->\n                  <div class=\"mb-3\">\n                    <label for=\"summary\" class=\"form-label\">Summary *</label>\n                    <textarea \n                      class=\"form-control\" \n                      id=\"summary\"\n                      formControlName=\"summary\"\n                      rows=\"3\"\n                      [class.is-invalid]=\"newsForm.get('summary')?.invalid && newsForm.get('summary')?.touched\"\n                      placeholder=\"Enter article summary...\"></textarea>\n                    <div class=\"invalid-feedback\" *ngIf=\"newsForm.get('summary')?.invalid && newsForm.get('summary')?.touched\">\n                      Summary is required\n                    </div>\n                  </div>\n\n                  <!-- Content -->\n                  <div class=\"mb-3\">\n                    <label for=\"content\" class=\"form-label\">Content *</label>\n                    <textarea \n                      class=\"form-control\" \n                      id=\"content\"\n                      formControlName=\"content\"\n                      rows=\"12\"\n                      [class.is-invalid]=\"newsForm.get('content')?.invalid && newsForm.get('content')?.touched\"\n                      placeholder=\"Enter article content...\"></textarea>\n                    <div class=\"invalid-feedback\" *ngIf=\"newsForm.get('content')?.invalid && newsForm.get('content')?.touched\">\n                      Content is required\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"col-lg-4\">\n              <div class=\"card\">\n                <div class=\"card-header\">\n                  <h5 class=\"mb-0\">Publication Settings</h5>\n                </div>\n                <div class=\"card-body\">\n                  <!-- Author -->\n                  <div class=\"mb-3\">\n                    <label for=\"author\" class=\"form-label\">Author *</label>\n                    <input \n                      type=\"text\" \n                      class=\"form-control\" \n                      id=\"author\"\n                      formControlName=\"author\"\n                      [class.is-invalid]=\"newsForm.get('author')?.invalid && newsForm.get('author')?.touched\"\n                      placeholder=\"Enter author name\">\n                    <div class=\"invalid-feedback\" *ngIf=\"newsForm.get('author')?.invalid && newsForm.get('author')?.touched\">\n                      Author is required\n                    </div>\n                  </div>\n\n                  <!-- Publish Date -->\n                  <div class=\"mb-3\">\n                    <label for=\"publishDate\" class=\"form-label\">Publish Date *</label>\n                    <input \n                      type=\"date\" \n                      class=\"form-control\" \n                      id=\"publishDate\"\n                      formControlName=\"publishDate\"\n                      [class.is-invalid]=\"newsForm.get('publishDate')?.invalid && newsForm.get('publishDate')?.touched\">\n                    <div class=\"invalid-feedback\" *ngIf=\"newsForm.get('publishDate')?.invalid && newsForm.get('publishDate')?.touched\">\n                      Publish date is required\n                    </div>\n                  </div>\n\n                  <!-- Tags -->\n                  <div class=\"mb-3\">\n                    <label for=\"tags\" class=\"form-label\">Tags</label>\n                    <input \n                      type=\"text\" \n                      class=\"form-control\" \n                      id=\"tags\"\n                      formControlName=\"tagsInput\"\n                      placeholder=\"Enter tags separated by commas\">\n                    <small class=\"form-text text-muted\">\n                      Separate tags with commas (e.g., technology, news, update)\n                    </small>\n                  </div>\n\n                  <!-- Available Tags -->\n                  <div class=\"mb-3\" *ngIf=\"(availableTags$ | async)?.length\">\n                    <label class=\"form-label\">Available Tags</label>\n                    <div class=\"d-flex flex-wrap gap-1\">\n                      <button \n                        type=\"button\"\n                        class=\"btn btn-sm btn-outline-primary\"\n                        *ngFor=\"let tag of availableTags$ | async\"\n                        (click)=\"addTag(tag)\">\n                        {{ tag }}\n                      </button>\n                    </div>\n                  </div>\n\n                  <!-- Archive Status -->\n                  <div class=\"mb-3\" *ngIf=\"isEditMode\">\n                    <div class=\"form-check\">\n                      <input \n                        class=\"form-check-input\" \n                        type=\"checkbox\" \n                        id=\"isArchived\"\n                        formControlName=\"isArchived\">\n                      <label class=\"form-check-label\" for=\"isArchived\">\n                        Archive this article\n                      </label>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <!-- Action Buttons -->\n              <div class=\"card mt-3\">\n                <div class=\"card-body\">\n                  <div class=\"d-grid gap-2\">\n                    <button \n                      type=\"submit\" \n                      class=\"btn btn-primary\"\n                      [disabled]=\"newsForm.invalid || isSubmitting\">\n                      <i class=\"fas fa-save me-2\"></i>\n                      <span *ngIf=\"isSubmitting\">\n                        {{ isEditMode ? 'Updating...' : 'Creating...' }}\n                      </span>\n                      <span *ngIf=\"!isSubmitting\">\n                        {{ isEditMode ? 'Update Article' : 'Create Article' }}\n                      </span>\n                    </button>\n                    <button \n                      type=\"button\" \n                      class=\"btn btn-outline-secondary\"\n                      routerLink=\"/news\">\n                      <i class=\"fas fa-arrow-left me-2\"></i>\n                      Cancel\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n  `\n"],"mappings":"AAqNG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}