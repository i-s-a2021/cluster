{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { UserFormComponent } from './user-form.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../core/services/user.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction UserAddComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r0.toastMessage);\n  }\n}\nexport class UserAddComponent {\n  constructor(userService, router) {\n    this.userService = userService;\n    this.router = router;\n    this.toastMessage = null;\n    this.availableRoles$ = this.userService.getAvailableRoles();\n  }\n  onSubmit(formValue) {\n    this.userService.createUser(formValue).subscribe({\n      next: () => {\n        this.showToast('User added successfully!');\n        setTimeout(() => this.router.navigate(['../']), 1200);\n      },\n      error: () => {\n        this.showToast('Failed to add user.', true);\n      }\n    });\n  }\n  onCancel() {\n    this.router.navigate(['../']);\n  }\n  showToast(message, error = false) {\n    this.toastMessage = message;\n    if (error) {\n      this.toastMessage += '';\n    }\n    clearTimeout(this.toastTimeout);\n    this.toastTimeout = setTimeout(() => {\n      this.toastMessage = null;\n    }, 2000);\n  }\n  static {\n    this.ɵfac = function UserAddComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || UserAddComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: UserAddComponent,\n      selectors: [[\"app-user-add\"]],\n      decls: 8,\n      vars: 3,\n      consts: [[1, \"card\", \"mb-4\"], [1, \"card-header\"], [1, \"mb-0\"], [1, \"fas\", \"fa-user-plus\", \"me-2\"], [1, \"card-body\"], [3, \"submitUser\", \"cancel\", \"mode\", \"availableRoles$\"], [\"class\", \"toast-message fade-in mt-3\", 4, \"ngIf\"], [1, \"toast-message\", \"fade-in\", \"mt-3\"]],\n      template: function UserAddComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h5\", 2);\n          i0.ɵɵelement(3, \"i\", 3);\n          i0.ɵɵtext(4, \" Add User\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(5, \"div\", 4)(6, \"app-user-form\", 5);\n          i0.ɵɵlistener(\"submitUser\", function UserAddComponent_Template_app_user_form_submitUser_6_listener($event) {\n            return ctx.onSubmit($event);\n          })(\"cancel\", function UserAddComponent_Template_app_user_form_cancel_6_listener() {\n            return ctx.onCancel();\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(7, UserAddComponent_div_7_Template, 2, 1, \"div\", 6);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"mode\", \"add\")(\"availableRoles$\", ctx.availableRoles$);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.toastMessage);\n        }\n      },\n      dependencies: [CommonModule, i3.NgIf, UserFormComponent],\n      styles: [\".toast-message[_ngcontent-%COMP%] {\\n      background: #2563eb;\\n      color: #fff;\\n      padding: 0.75rem 1.5rem;\\n      border-radius: 0.5rem;\\n      box-shadow: 0 2px 12px rgba(0,0,0,0.10);\\n      font-weight: 500;\\n      position: relative;\\n      z-index: 10;\\n      min-width: 200px;\\n      text-align: center;\\n      animation: _ngcontent-%COMP%_fadeIn 0.4s;\\n    }\\n    .toast-message.error[_ngcontent-%COMP%] {\\n      background: #dc2626;\\n    }\\n    .fade-in[_ngcontent-%COMP%] {\\n      animation: _ngcontent-%COMP%_fadeIn 0.4s;\\n    }\\n    @keyframes _ngcontent-%COMP%_fadeIn {\\n      from { opacity: 0; }\\n      to { opacity: 1; }\\n    }\\n  \\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmVhdHVyZXMvdXNlcnMvdXNlci1hZGQuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7SUFDSTtNQUNFLG1CQUFtQjtNQUNuQixXQUFXO01BQ1gsdUJBQXVCO01BQ3ZCLHFCQUFxQjtNQUNyQix1Q0FBdUM7TUFDdkMsZ0JBQWdCO01BQ2hCLGtCQUFrQjtNQUNsQixXQUFXO01BQ1gsZ0JBQWdCO01BQ2hCLGtCQUFrQjtNQUNsQixzQkFBc0I7SUFDeEI7SUFDQTtNQUNFLG1CQUFtQjtJQUNyQjtJQUNBO01BQ0Usc0JBQXNCO0lBQ3hCO0lBQ0E7TUFDRSxPQUFPLFVBQVUsRUFBRTtNQUNuQixLQUFLLFVBQVUsRUFBRTtJQUNuQiIsInNvdXJjZXNDb250ZW50IjpbIlxuICAgIC50b2FzdC1tZXNzYWdlIHtcbiAgICAgIGJhY2tncm91bmQ6ICMyNTYzZWI7XG4gICAgICBjb2xvcjogI2ZmZjtcbiAgICAgIHBhZGRpbmc6IDAuNzVyZW0gMS41cmVtO1xuICAgICAgYm9yZGVyLXJhZGl1czogMC41cmVtO1xuICAgICAgYm94LXNoYWRvdzogMCAycHggMTJweCByZ2JhKDAsMCwwLDAuMTApO1xuICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIHotaW5kZXg6IDEwO1xuICAgICAgbWluLXdpZHRoOiAyMDBweDtcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgIGFuaW1hdGlvbjogZmFkZUluIDAuNHM7XG4gICAgfVxuICAgIC50b2FzdC1tZXNzYWdlLmVycm9yIHtcbiAgICAgIGJhY2tncm91bmQ6ICNkYzI2MjY7XG4gICAgfVxuICAgIC5mYWRlLWluIHtcbiAgICAgIGFuaW1hdGlvbjogZmFkZUluIDAuNHM7XG4gICAgfVxuICAgIEBrZXlmcmFtZXMgZmFkZUluIHtcbiAgICAgIGZyb20geyBvcGFjaXR5OiAwOyB9XG4gICAgICB0byB7IG9wYWNpdHk6IDE7IH1cbiAgICB9XG4gICJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["CommonModule","UserFormComponent","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r0","toastMessage","UserAddComponent","constructor","userService","router","availableRoles$","getAvailableRoles","onSubmit","formValue","createUser","subscribe","next","showToast","setTimeout","navigate","error","onCancel","message","clearTimeout","toastTimeout","ɵɵdirectiveInject","i1","UserService","i2","Router","selectors","decls","vars","consts","template","UserAddComponent_Template","rf","ctx","ɵɵelement","ɵɵlistener","UserAddComponent_Template_app_user_form_submitUser_6_listener","$event","UserAddComponent_Template_app_user_form_cancel_6_listener","ɵɵtemplate","UserAddComponent_div_7_Template","ɵɵproperty","i3","NgIf","styles"],"sources":["C:\\Users\\ibrahim\\Desktop\\projectPort-new\\src\\app\\features\\users\\user-add.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { UserService } from '../../core/services/user.service';\r\nimport { Observable } from 'rxjs';\r\nimport { CommonModule } from '@angular/common';\r\nimport { UserFormComponent } from './user-form.component';\r\n\r\n@Component({\r\n  selector: 'app-user-add',\r\n  standalone: true,\r\n  imports: [CommonModule, UserFormComponent],\r\n  template: `\r\n    <div class=\"card mb-4\">\r\n      <div class=\"card-header\">\r\n        <h5 class=\"mb-0\"><i class=\"fas fa-user-plus me-2\"></i> Add User</h5>\r\n      </div>\r\n      <div class=\"card-body\">\r\n        <app-user-form\r\n          [mode]=\"'add'\"\r\n          [availableRoles$]=\"availableRoles$\"\r\n          (submitUser)=\"onSubmit($event)\"\r\n          (cancel)=\"onCancel()\"\r\n        ></app-user-form>\r\n        <div *ngIf=\"toastMessage\" class=\"toast-message fade-in mt-3\">{{ toastMessage }}</div>\r\n      </div>\r\n    </div>\r\n  `,\r\n  styles: [`\r\n    .toast-message {\r\n      background: #2563eb;\r\n      color: #fff;\r\n      padding: 0.75rem 1.5rem;\r\n      border-radius: 0.5rem;\r\n      box-shadow: 0 2px 12px rgba(0,0,0,0.10);\r\n      font-weight: 500;\r\n      position: relative;\r\n      z-index: 10;\r\n      min-width: 200px;\r\n      text-align: center;\r\n      animation: fadeIn 0.4s;\r\n    }\r\n    .toast-message.error {\r\n      background: #dc2626;\r\n    }\r\n    .fade-in {\r\n      animation: fadeIn 0.4s;\r\n    }\r\n    @keyframes fadeIn {\r\n      from { opacity: 0; }\r\n      to { opacity: 1; }\r\n    }\r\n  `]\r\n})\r\nexport class UserAddComponent {\r\n  availableRoles$: Observable<string[]>;\r\n  toastMessage: string | null = null;\r\n  toastTimeout: any;\r\n  constructor(private userService: UserService, private router: Router) {\r\n    this.availableRoles$ = this.userService.getAvailableRoles();\r\n  }\r\n\r\n  onSubmit(formValue: any) {\r\n    this.userService.createUser(formValue).subscribe({\r\n      next: () => {\r\n        this.showToast('User added successfully!');\r\n        setTimeout(() => this.router.navigate(['../']), 1200);\r\n      },\r\n      error: () => {\r\n        this.showToast('Failed to add user.', true);\r\n      }\r\n    });\r\n  }\r\n\r\n  onCancel() {\r\n    this.router.navigate(['../']);\r\n  }\r\n\r\n  showToast(message: string, error = false) {\r\n    this.toastMessage = message;\r\n    if (error) {\r\n      this.toastMessage += '';\r\n    }\r\n    clearTimeout(this.toastTimeout);\r\n    this.toastTimeout = setTimeout(() => {\r\n      this.toastMessage = null;\r\n    }, 2000);\r\n  }\r\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}