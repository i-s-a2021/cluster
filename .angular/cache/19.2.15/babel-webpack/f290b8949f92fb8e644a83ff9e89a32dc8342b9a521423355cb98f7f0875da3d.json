{"ast":null,"code":"export {};","map":{"version":3,"names":[],"sources":["C:\\Users\\ibrahim\\Desktop\\projectPort-new\\src\\app\\features\\dashboard\\dashboard.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { BaseChartDirective } from 'ng2-charts';\nimport { Chart, ChartConfiguration, ChartData, ChartType } from 'chart.js';\n\nimport { NewsService } from '../../core/services/news.service';\nimport { UserService } from '../../core/services/user.service';\nimport { News, NewsStatistics } from '../../core/models/news.model';\nimport { User } from '../../core/models/user.model';\nimport { LoadingComponent } from '../../shared/components/loading/loading.component';\n\n@Component({\n  selector: 'app-dashboard',\n  standalone: true,\n  imports: [CommonModule, RouterModule, LoadingComponent, BaseChartDirective],\n  template: `\n    <div class=\"container-fluid px-4 py-4 fade-in\">\n      <div class=\"row\">\n        <div class=\"col-12\">\n          <div class=\"d-flex justify-content-between align-items-center mb-4\">\n            <h1 class=\"h3 mb-0\">\n              <i class=\"fas fa-tachometer-alt me-2\"></i>\n              Dashboard\n            </h1>\n            <button class=\"btn btn-primary\" routerLink=\"/news/create\">\n              <i class=\"fas fa-plus me-2\"></i>\n              Add News\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <!-- Statistics Cards -->\n      <div class=\"row mb-4\">\n        <div class=\"col-md-3 col-sm-6 mb-3\">\n          <div class=\"card stat-card\">\n            <div class=\"card-body\">\n              <div class=\"d-flex align-items-center\">\n                <div class=\"flex-grow-1\">\n                  <div class=\"stat-value\">{{ (statistics$ | async)?.totalNews || 0 }}</div>\n                  <div class=\"stat-label\">Total News</div>\n                </div>\n                <div class=\"ms-3\">\n                  <i class=\"fas fa-newspaper fa-2x\"></i>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"col-md-3 col-sm-6 mb-3\">\n          <div class=\"card stat-card\">\n            <div class=\"card-body\">\n              <div class=\"d-flex align-items-center\">\n                <div class=\"flex-grow-1\">\n                  <div class=\"stat-value\">{{ (statistics$ | async)?.publishedNews || 0 }}</div>\n                  <div class=\"stat-label\">Published</div>\n                </div>\n                <div class=\"ms-3\">\n                  <i class=\"fas fa-eye fa-2x\"></i>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"col-md-3 col-sm-6 mb-3\">\n          <div class=\"card stat-card\">\n            <div class=\"card-body\">\n              <div class=\"d-flex align-items-center\">\n                <div class=\"flex-grow-1\">\n                  <div class=\"stat-value\">{{ (statistics$ | async)?.archivedNews || 0 }}</div>\n                  <div class=\"stat-label\">Archived</div>\n                </div>\n                <div class=\"ms-3\">\n                  <i class=\"fas fa-archive fa-2x\"></i>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"col-md-3 col-sm-6 mb-3\">\n          <div class=\"card stat-card\">\n            <div class=\"card-body\">\n              <div class=\"d-flex align-items-center\">\n                <div class=\"flex-grow-1\">\n                  <div class=\"stat-value\">{{ (activeUsers$ | async)?.length || 0 }}</div>\n                  <div class=\"stat-label\">Active Users</div>\n                </div>\n                <div class=\"ms-3\">\n                  <i class=\"fas fa-users fa-2x\"></i>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"row\">\n        <!-- Recent News -->\n        <div class=\"col-lg-8 mb-4\">\n          <div class=\"card\">\n            <div class=\"card-header d-flex justify-content-between align-items-center\">\n              <h5 class=\"mb-0\">\n                <i class=\"fas fa-newspaper me-2\"></i>\n                Recent News\n              </h5>\n              <a routerLink=\"/news\" class=\"btn btn-sm btn-outline-primary\">\n                View All\n              </a>\n            </div>\n            <div class=\"card-body\">\n              <div *ngIf=\"isLoading$ | async\">\n                <app-loading [height]=\"200\" message=\"Loading recent news...\"></app-loading>\n              </div>\n              \n              <div *ngIf=\"!(isLoading$ | async)\">\n                <div *ngFor=\"let news of recentNews$ | async\" class=\"news-card card mb-3\">\n                  <div class=\"card-body\">\n                    <h6 class=\"card-title\">\n                      <a [routerLink]=\"['/news', news.id]\" class=\"text-decoration-none\">\n                        {{ news.title }}\n                      </a>\n                    </h6>\n                    <p class=\"card-text\">{{ news.summary }}</p>\n                    <div class=\"d-flex justify-content-between align-items-center\">\n                      <div class=\"news-meta\">\n                        <i class=\"fas fa-user me-1\"></i>\n                        {{ news.author }}\n                        <i class=\"fas fa-calendar ms-3 me-1\"></i>\n                        {{ news.publishDate | date:'mediumDate' }}\n                      </div>\n                      <div>\n                        <span *ngFor=\"let tag of news.tags.slice(0, 2)\" class=\"tag\">\n                          {{ tag }}\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Charts -->\n        <div class=\"col-lg-4 mb-4\">\n          <div class=\"card\">\n            <div class=\"card-header\">\n              <h5 class=\"mb-0\">\n                <i class=\"fas fa-chart-pie me-2\"></i>\n                News by Tag\n              </h5>\n            </div>\n            <div class=\"card-body\">\n              <div class=\"chart-container\">\n                <canvas \n                  baseChart\n                  [data]=\"tagChartData\"\n                  [type]=\"'doughnut'\"\n                  [options]=\"chartOptions\">\n                </canvas>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Monthly News Chart -->\n      <div class=\"row\">\n        <div class=\"col-12\">\n          <div class=\"card\">\n            <div class=\"card-header\">\n              <h5 class=\"mb-0\">\n                <i class=\"fas fa-chart-line me-2\"></i>\n                News Published by Month\n              </h5>\n            </div>\n            <div class=\"card-body\">\n              <div class=\"chart-container\">\n                <canvas \n                  baseChart\n                  [data]=\"monthlyChartData\"\n                  [type]=\"'line'\"\n                  [options]=\"lineChartOptions\">\n                </canvas>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  `}}\n"],"mappings":"AAmMK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}