{"ast":null,"code":"export {};","map":{"version":3,"names":[],"sources":["C:\\Users\\ibrahim\\Desktop\\projectPort-new\\src\\app\\features\\news\\news-list\\news-list.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule, ActivatedRoute } from '@angular/router';\nimport { ReactiveFormsModule, FormBuilder, FormGroup } from '@angular/forms';\nimport { Observable, combineLatest } from 'rxjs';\nimport { map, startWith } from 'rxjs/operators';\n\nimport { NewsService } from '../../../core/services/news.service';\nimport { News, NewsFilter } from '../../../core/models/news.model';\nimport { LoadingComponent } from '../../../shared/components/loading/loading.component';\n\n@Component({\n  selector: 'app-news-list',\n  standalone: true,\n  imports: [CommonModule, RouterModule, ReactiveFormsModule, LoadingComponent],\n  template: `\n    <div class=\"container-fluid px-4 py-4 fade-in\">\n      <div class=\"row\">\n        <div class=\"col-12\">\n          <div class=\"d-flex justify-content-between align-items-center mb-4\">\n            <h1 class=\"h3 mb-0\">\n              <i class=\"fas fa-newspaper me-2\"></i>\n              {{ showArchived ? 'Archived' : 'All' }} News\n            </h1>\n            <button class=\"btn btn-primary\" routerLink=\"/news/create\">\n              <i class=\"fas fa-plus me-2\"></i>\n              Add News\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <!-- Search and Filter -->\n      <div class=\"search-container\">\n        <form [formGroup]=\"filterForm\" class=\"row g-3\">\n          <div class=\"col-md-4\">\n            <label for=\"searchTerm\" class=\"form-label\">Search</label>\n            <input \n              type=\"text\" \n              class=\"form-control\" \n              id=\"searchTerm\"\n              formControlName=\"searchTerm\"\n              placeholder=\"Search news...\">\n          </div>\n          <div class=\"col-md-3\">\n            <label for=\"tags\" class=\"form-label\">Tags</label>\n            <select class=\"form-select\" id=\"tags\" formControlName=\"tags\" multiple>\n              <option *ngFor=\"let tag of availableTags$ | async\" [value]=\"tag\">\n                {{ tag }}\n              </option>\n            </select>\n          </div>\n          <div class=\"col-md-2\">\n            <label for=\"status\" class=\"form-label\">Status</label>\n            <select class=\"form-select\" id=\"status\" formControlName=\"status\">\n              <option value=\"\">All</option>\n              <option value=\"published\">Published</option>\n              <option value=\"archived\">Archived</option>\n            </select>\n          </div>\n          <div class=\"col-md-3 d-flex align-items-end\">\n            <button type=\"button\" class=\"btn btn-outline-secondary me-2\" (click)=\"resetFilters()\">\n              <i class=\"fas fa-undo me-1\"></i>\n              Reset\n            </button>\n            <button type=\"button\" class=\"btn btn-outline-primary\" (click)=\"toggleArchived()\">\n              <i class=\"fas fa-archive me-1\"></i>\n              {{ showArchived ? 'Show Published' : 'Show Archived' }}\n            </button>\n          </div>\n        </form>\n      </div>\n\n      <!-- News List -->\n      <div *ngIf=\"isLoading$ | async\">\n        <app-loading [height]=\"300\" message=\"Loading news...\"></app-loading>\n      </div>\n\n      <div *ngIf=\"!(isLoading$ | async)\">\n        <div class=\"row\">\n          <div class=\"col-12\" *ngIf=\"(filteredNews$ | async)?.length === 0\">\n            <div class=\"card\">\n              <div class=\"card-body text-center py-5\">\n                <i class=\"fas fa-inbox fa-3x text-muted mb-3\"></i>\n                <h5 class=\"text-muted\">No news found</h5>\n                <p class=\"text-muted\">\n                  {{ showArchived ? 'No archived news available.' : 'No news articles match your criteria.' }}\n                </p>\n                <button class=\"btn btn-primary\" routerLink=\"/news/create\">\n                  <i class=\"fas fa-plus me-2\"></i>\n                  Add First News\n                </button>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"col-12\" *ngFor=\"let news of filteredNews$ | async\">\n            <div class=\"news-card card mb-3\">\n              <div class=\"card-body\">\n                <div class=\"row\">\n                  <div class=\"col-md-8\">\n                    <h5 class=\"card-title\">\n                      <a [routerLink]=\"['/news', news.id]\" class=\"text-decoration-none\">\n                        {{ news.title }}\n                      </a>\n                      <span *ngIf=\"news.isArchived\" class=\"badge bg-secondary ms-2\">Archived</span>\n                    </h5>\n                    <p class=\"card-text\">{{ news.summary }}</p>\n                    <div class=\"news-meta\">\n                      <i class=\"fas fa-user me-1\"></i>\n                      {{ news.author }}\n                      <i class=\"fas fa-calendar ms-3 me-1\"></i>\n                      {{ news.publishDate | date:'mediumDate' }}\n                    </div>\n                  </div>\n                  <div class=\"col-md-4\">\n                    <div class=\"d-flex flex-wrap mb-2\">\n                      <span *ngFor=\"let tag of news.tags\" class=\"tag\">\n                        {{ tag }}\n                      </span>\n                    </div>\n                    <div class=\"d-flex gap-2\">\n                      <button \n                        class=\"btn btn-sm btn-outline-primary\"\n                        [routerLink]=\"['/news', news.id]\">\n                        <i class=\"fas fa-eye me-1\"></i>\n                        View\n                      </button>\n                      <button \n                        class=\"btn btn-sm btn-outline-secondary\"\n                        [routerLink]=\"['/news', news.id, 'edit']\">\n                        <i class=\"fas fa-edit me-1\"></i>\n                        Edit\n                      </button>\n                      <button \n                        class=\"btn btn-sm\"\n                        [class.btn-outline-success]=\"news.isArchived\"\n                        [class.btn-outline-warning]=\"!news.isArchived\"\n                        (click)=\"toggleArchive(news)\">\n                        <i class=\"fas\" \n                           [class.fa-box-open]=\"news.isArchived\"\n                           [class.fa-archive]=\"!news.isArchived\"\n                           [class.me-1]=\"true\"></i>\n                        {{ news.isArchived ? 'Restore' : 'Archive' }}\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  `}}\n"],"mappings":"AA0JK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}