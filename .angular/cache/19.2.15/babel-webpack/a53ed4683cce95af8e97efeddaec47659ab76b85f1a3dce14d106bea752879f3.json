{"ast":null,"code":"export {};","map":{"version":3,"names":[],"sources":["C:\\Users\\ibrahim\\Desktop\\projectPort-new\\src\\app\\features\\users\\users.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { ReactiveFormsModule, FormBuilder, FormGroup } from '@angular/forms';\nimport { Observable, combineLatest } from 'rxjs';\nimport { map, startWith } from 'rxjs/operators';\n\nimport { UserService } from '../../core/services/user.service';\nimport { User, UserFilter } from '../../core/models/user.model';\nimport { LoadingComponent } from '../../shared/components/loading/loading.component';\n\n@Component({\n  selector: 'app-users',\n  standalone: true,\n  imports: [CommonModule, RouterModule, ReactiveFormsModule, LoadingComponent],\n  template: `\n    <div class=\"container-fluid px-4 py-4 fade-in\">\n      <div class=\"row\">\n        <div class=\"col-12\">\n          <div class=\"d-flex justify-content-between align-items-center mb-4\">\n            <h1 class=\"h3 mb-0\">\n              <i class=\"fas fa-users me-2\"></i>\n              User Management\n            </h1>\n            <button class=\"btn btn-primary\" disabled>\n              <i class=\"fas fa-plus me-2\"></i>\n              Add User\n              <small class=\"ms-2 text-muted\">(Coming Soon)</small>\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <!-- Search and Filter -->\n      <div class=\"search-container\">\n        <form [formGroup]=\"filterForm\" class=\"row g-3\">\n          <div class=\"col-md-6\">\n            <label for=\"searchTerm\" class=\"form-label\">Search Users</label>\n            <input \n              type=\"text\" \n              class=\"form-control\" \n              id=\"searchTerm\"\n              formControlName=\"searchTerm\"\n              placeholder=\"Search by name or email...\">\n          </div>\n          <div class=\"col-md-3\">\n            <label for=\"role\" class=\"form-label\">Role</label>\n            <select class=\"form-select\" id=\"role\" formControlName=\"role\">\n              <option value=\"\">All Roles</option>\n              <option value=\"admin\">Admin</option>\n              <option value=\"editor\">Editor</option>\n              <option value=\"author\">Author</option>\n            </select>\n          </div>\n          <div class=\"col-md-3\">\n            <label for=\"status\" class=\"form-label\">Status</label>\n            <select class=\"form-select\" id=\"status\" formControlName=\"status\">\n              <option value=\"\">All Status</option>\n              <option value=\"active\">Active</option>\n              <option value=\"inactive\">Inactive</option>\n            </select>\n          </div>\n        </form>\n      </div>\n\n      <!-- Users List -->\n      <div *ngIf=\"isLoading$ | async\">\n        <app-loading [height]=\"300\" message=\"Loading users...\"></app-loading>\n      </div>\n\n      <div *ngIf=\"!(isLoading$ | async)\">\n        <div class=\"row\">\n          <div class=\"col-12\" *ngIf=\"(filteredUsers$ | async)?.length === 0\">\n            <div class=\"card\">\n              <div class=\"card-body text-center py-5\">\n                <i class=\"fas fa-users fa-3x text-muted mb-3\"></i>\n                <h5 class=\"text-muted\">No users found</h5>\n                <p class=\"text-muted\">No users match your search criteria.</p>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"col-12\" *ngFor=\"let user of filteredUsers$ | async\">\n            <div class=\"card mb-3\">\n              <div class=\"card-body\">\n                <div class=\"row align-items-center\">\n                  <div class=\"col-md-2 text-center\">\n                    <img \n                      [src]=\"user.avatar || 'https://images.pexels.com/photos/3763188/pexels-photo-3763188.jpeg?auto=compress&cs=tinysrgb&w=100&h=100&dpr=2'\" \n                      [alt]=\"user.name\"\n                      class=\"rounded-circle\"\n                      width=\"80\" \n                      height=\"80\">\n                  </div>\n                  <div class=\"col-md-4\">\n                    <h5 class=\"mb-1\">{{ user.name }}</h5>\n                    <p class=\"text-muted mb-1\">{{ user.email }}</p>\n                    <small class=\"text-muted\">\n                      <i class=\"fas fa-calendar me-1\"></i>\n                      Joined {{ user.createdAt | date:'mediumDate' }}\n                    </small>\n                  </div>\n                  <div class=\"col-md-2 text-center\">\n                    <span class=\"badge\" \n                          [class.bg-primary]=\"user.role === 'admin'\"\n                          [class.bg-success]=\"user.role === 'editor'\"\n                          [class.bg-info]=\"user.role === 'author'\">\n                      {{ user.role | titlecase }}\n                    </span>\n                  </div>\n                  <div class=\"col-md-2 text-center\">\n                    <span class=\"badge\" \n                          [class.bg-success]=\"user.isActive\"\n                          [class.bg-secondary]=\"!user.isActive\">\n                      {{ user.isActive ? 'Active' : 'Inactive' }}\n                    </span>\n                  </div>\n                  <div class=\"col-md-2 text-end\">\n                    <div class=\"btn-group\">\n                      <button \n                        class=\"btn btn-sm btn-outline-primary\"\n                        title=\"View Profile\"\n                        disabled>\n                        <i class=\"fas fa-eye\"></i>\n                      </button>\n                      <button \n                        class=\"btn btn-sm btn-outline-secondary\"\n                        title=\"Edit User\"\n                        disabled>\n                        <i class=\"fas fa-edit\"></i>\n                      </button>\n                      <button \n                        class=\"btn btn-sm\"\n                        [class.btn-outline-success]=\"!user.isActive\"\n                        [class.btn-outline-warning]=\"user.isActive\"\n                        [title]=\"user.isActive ? 'Deactivate User' : 'Activate User'\"\n                        (click)=\"toggleUserStatus(user)\">\n                        <i class=\"fas\" \n                           [class.fa-user-check]=\"!user.isActive\"\n                           [class.fa-user-times]=\"user.isActive\"></i>\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- User Statistics -->\n      <div class=\"row mt-4\">\n        <div class=\"col-md-3\">\n          <div class=\"card stat-card\">\n            <div class=\"card-body\">\n              <div class=\"d-flex align-items-center\">\n                <div class=\"flex-grow-1\">\n                  <div class=\"stat-value\">{{ (allUsers$ | async)?.length || 0 }}</div>\n                  <div class=\"stat-label\">Total Users</div>\n                </div>\n                <div class=\"ms-3\">\n                  <i class=\"fas fa-users fa-2x\"></i>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-3\">\n          <div class=\"card stat-card\">\n            <div class=\"card-body\">\n              <div class=\"d-flex align-items-center\">\n                <div class=\"flex-grow-1\">\n                  <div class=\"stat-value\">{{ getActiveUsersCount() }}</div>\n                  <div class=\"stat-label\">Active Users</div>\n                </div>\n                <div class=\"ms-3\">\n                  <i class=\"fas fa-user-check fa-2x\"></i>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-3\">\n          <div class=\"card stat-card\">\n            <div class=\"card-body\">\n              <div class=\"d-flex align-items-center\">\n                <div class=\"flex-grow-1\">\n                  <div class=\"stat-value\">{{ getAdminCount() }}</div>\n                  <div class=\"stat-label\">Admins</div>\n                </div>\n                <div class=\"ms-3\">\n                  <i class=\"fas fa-user-shield fa-2x\"></i>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-md-3\">\n          <div class=\"card stat-card\">\n            <div class=\"card-body\">\n              <div class=\"d-flex align-items-center\">\n                <div class=\"flex-grow-1\">\n                  <div class=\"stat-value\">{{ getInactiveCount() }}</div>\n                  <div class=\"stat-label\">Inactive</div>\n                </div>\n                <div class=\"ms-3\">\n                  <i class=\"fas fa-user-times fa-2x\"></i>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  `}}\n"],"mappings":"AAsNK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}